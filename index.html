<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SECURE SYSTEM | LUXURY ACCESS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Montserrat:wght@300;400;500;600&family=Dancing+Script:wght@700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* --- CORE VARIABLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            /* Hacker UI Colors */
            --hacker-green: #00FF41;
            --black: #050505;
            --terminal-bg: rgba(10, 10, 10, 0.95);
            
            /* Luxury Card Colors */
            --gold-primary: #D4AF37;
            --gold-light: #F2D06B;
            --gold-shadow: #AA8822;
            --card-bg: #111111;
            --card-text: #E0E0E0;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background-color: var(--black);
            color: var(--hacker-green);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* --- MATRIX BACKGROUND --- */
        .matrix-bg {
            position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 1;
            background: var(--black); overflow: hidden;
        }
        .matrix-rain {
            position: absolute; width: 2px; height: 100px;
            background: linear-gradient(to bottom, transparent, var(--hacker-green));
            animation: matrixRain 20s infinite linear;
            opacity: 0.3;
        }
        @keyframes matrixRain { 0% { transform: translateY(-100px); opacity: 0; } 100% { transform: translateY(100vh); opacity: 0; } }

        .container {
            max-width: 1200px; margin: 0 auto; padding: 20px; position: relative; z-index: 10;
            min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* --- UI ELEMENTS --- */
        .system-header {
            font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 900; color: transparent;
            text-shadow: 0 0 10px var(--hacker-green); margin-bottom: 30px; 
            animation: textGlow 2s infinite alternate;
        }
        @keyframes textGlow { 0% { text-shadow: 0 0 10px var(--hacker-green); } 100% { text-shadow: 0 0 20px #008F11; } }

        .terminal-section {
            background: var(--terminal-bg); border: 1px solid var(--hacker-green); padding: 40px;
            width: 100%; max-width: 600px; text-align: center;
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.1);
        }
        
        #accessCode {
            width: 100%; padding: 15px; background: #001100; border: 1px solid var(--hacker-green);
            color: var(--hacker-green); font-family: 'Share Tech Mono'; font-size: 1.2rem; margin: 20px 0;
            text-align: center; letter-spacing: 3px;
        }

        #submitCode {
            padding: 15px 40px; background: var(--hacker-green); color: #000; border: none;
            font-weight: bold; font-family: 'Orbitron'; cursor: pointer; transition: 0.3s;
        }
        #submitCode:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--hacker-green); }

        .error-message { color: #ff3333; margin-top: 15px; min-height: 20px; }

        /* --- ANIMATION --- */
        .boy-animation-container {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000; z-index: 100;
        }
        .boy-running {
            position: absolute; bottom: 20%; left: -200px; width: 150px; height: 200px;
            animation: runIn 2.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        @keyframes runIn { 0% { left: -200px; transform: scale(0.8) skewX(10deg); } 100% { left: 35%; transform: scale(1) skewX(0deg); } }
        
        /* --- LUXURY CARD DESIGN --- */
        .profile-container { display: none; width: 100%; position: relative; margin-top: 20px; perspective: 1500px; z-index: 20; }

        .access-card {
            width: 850px;
            min-height: 400px;
            height: auto;
            margin: 0 auto;
            /* BLACK SATIN BACKGROUND */
            background: radial-gradient(circle at 100% 0%, #333333 0%, #111111 30%, #000000 100%);
            border-radius: 25px;
            /* GOLD BORDER GLOW */
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.9),
                0 0 0 2px #222,
                inset 0 0 0 1px rgba(212, 175, 55, 0.3);
            display: flex;
            position: relative;
            overflow: hidden;
            border: 1px solid #333;
            transform-style: preserve-3d;
            animation: cardEntrance 1.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        @keyframes cardEntrance { 
            0% { transform: rotateX(20deg) translateY(100px); opacity: 0; } 
            100% { transform: rotateX(0deg) translateY(0); opacity: 1; } 
        }

        /* Gold Dust Splatter Effect */
        .gold-dust {
            position: absolute; top: -50px; right: -50px; width: 300px; height: 300px;
            background-image: 
                radial-gradient(var(--gold-primary) 1px, transparent 1px),
                radial-gradient(var(--gold-light) 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            opacity: 0.4;
            transform: rotate(45deg);
            z-index: 0;
            mask-image: radial-gradient(circle, black 30%, transparent 70%);
        }
        .gold-splash {
            position: absolute; top: -20px; right: -20px; width: 150px; height: 150px;
            background: radial-gradient(circle at center, rgba(212, 175, 55, 0.2) 0%, transparent 70%);
            filter: blur(20px);
            z-index: 0;
        }

        /* Left Side */
        .card-left {
            flex: 0 0 32%;
            position: relative;
            z-index: 2;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* Subtle divider */
            border-right: 1px solid rgba(212, 175, 55, 0.2);
            background: linear-gradient(to right, rgba(0,0,0,0.4), transparent);
        }

        /* Right Side */
        .card-right {
            flex: 1;
            padding: 40px;
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* GOLD CHIP */
        .chip-sim {
            position: absolute; top: 30px; left: 30px; width: 50px; height: 38px;
            background: linear-gradient(135deg, #b8860b 0%, #f2d06b 50%, #b8860b 100%);
            border-radius: 6px;
            box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
            z-index: 5;
            display: flex; flex-wrap: wrap; align-content: center; justify-content: center;
            gap: 2px;
        }
        .chip-line { width: 90%; height: 1px; background: rgba(0,0,0,0.3); margin: 2px 0; }

        /* Photo Frame */
        .card-photo-frame {
            width: 140px; height: 140px; border-radius: 50%;
            padding: 3px;
            /* Gold Gradient Border */
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-light), var(--gold-primary));
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            margin: 20px 0 15px 0;
        }
        .card-photo { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; filter: contrast(1.1) grayscale(0.2); background: #000;}

        /* Typography */
        .card-name {
            font-family: 'Cinzel', serif; /* Luxury Font */
            font-size: 1.6rem;
            color: var(--gold-primary);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
        }
        .card-role {
            font-family: 'Share Tech Mono'; font-size: 1rem; 
            color: #000;
            background: linear-gradient(90deg, var(--gold-primary), var(--gold-light));
            padding: 4px 12px; border-radius: 4px;
            font-weight: bold; letter-spacing: 1px;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .card-invite-text {
            font-family: 'Playfair Display', serif; 
            color: var(--card-text); 
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        .highlight { 
            color: var(--gold-primary); 
            font-weight: 700; 
            font-style: italic; 
            text-decoration: underline decoration-1px;
        }

        /* Details Grid */
        .card-details-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
            padding: 15px 0;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }
        .cd-item { font-family: 'Montserrat', sans-serif; font-size: 0.9rem; color: #ccc; display: flex; align-items: center; }
        .cd-item i { color: var(--gold-primary); margin-right: 10px; width: 20px; text-align: center; }

        .card-footer-id {
            position: absolute; bottom: 15px; right: 20px;
            font-family: 'Share Tech Mono'; font-size: 0.7rem; color: var(--gold-shadow);
            opacity: 0.6; text-align: right;
        }

        /* Buttons */
        .action-bar { margin-top: 20px; text-align: center; }
        .save-btn {
            background: transparent; border: 2px solid var(--gold-primary); color: var(--gold-primary);
            width: 70px; height: 70px; border-radius: 50%; font-size: 1.5rem; cursor: pointer;
            display: flex; align-items: center; justify-content: center; margin: 0 auto;
            transition: 0.3s; box-shadow: 0 0 15px rgba(212, 175, 55, 0.1);
        }
        .save-btn:hover { background: var(--gold-primary); color: #000; box-shadow: 0 0 30px rgba(212, 175, 55, 0.6); }

        .close-btn {
            position: absolute; top: -50px; right: 0; color: #fff; background: none; border: none; font-size: 1.5rem; cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .access-card { width: 100%; max-width: 500px; flex-direction: column; }
            .card-left { border-right: none; border-bottom: 1px solid rgba(212, 175, 55, 0.2); padding-bottom: 20px; }
            .chip-sim { top: 20px; left: 20px; }
            .gold-dust { opacity: 0.2; }
        }
    </style>
</head>
<body>
    <div class="matrix-bg" id="matrixBg"></div>

    <div class="container">
        <header>
            <div class="system-header">SECURE ACCESS</div>
        </header>

        <section class="terminal-section">
            <h2 style="color: var(--hacker-green); font-family: 'Orbitron'; margin-bottom: 20px;">
                IDENTITY VERIFICATION
            </h2>
            <h4 style="color: var(--hacker-green); font-family: 'Orbitron'; margin-bottom: 20px;">
                ACCESS CODE: COLLEGE ROLL 
            </h4>
            <input type="text" id="accessCode" placeholder="ENTER ACCESS CODE" autocomplete="off"oninput="this.value = this.value.toUpperCase()">
            <button id="submitCode">VERIFY</button>
            <div class="error-message" id="errorMessage"></div>
        </section>

        <div class="boy-animation-container" id="boyAnimationContainer">
            <div class="boy-running"></div>
        </div>

        <section class="profile-container" id="profileContainer">
            <button class="close-btn" id="closeProfile"><i class="fas fa-times"></i></button>
            
            <div id="cardMountPoint"></div>

            <div class="action-bar">
                <button class="save-btn" id="tickButton"><i class="fas fa-download"></i></button>
                <div style="color: var(--gold-primary); margin-top: 10px; font-family: 'Cinzel'; letter-spacing: 2px;">DOWNLOAD PASS</div>
            </div>
        </section>
    </div>

    <script>
        const guests = {
            "ECE/23/14": { name: "Sohima De", role: "MY MALKIN ðŸ‘‘", image: "sohi.jpeg", msg: " Hello <span class='highlight'>Love</span>, As my birthday approaches, there's no one I'd rather celebrate with than you. You bring so much joy and happiness into my life, and having you by my side on this special day would mean the world to me. You make ordinary moments extraordinary, and I know with you there, my birthday will be truly special. I've planned a cozy celebration with our close friends, and I really want you to join us. Your smile is what I'm looking forward to the most!"},
            "ECE/23/17": { name: "Sourav Ghosh", role: "VIP-INSAAn", image: "SOURAV.jpg", msg: "Hey <span class='highlight'>Sourav</span>, What's up bro! Hope everything's fine </p><p>I'm throwing a birthday bash soon and it wouldn't be the same without you there. Celebrating this day with you would make it even more special.It's going to be a chill evening with good food, great music, and even better company. Wouldn't be the same without you, BADE-INSAAN"},
            "CSE/23/185": { name: "Arnabi Mandal", role: "VIP-ANAROBIA", image: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", msg: "Hey <span class='highlight'>Arnabi</span>, I'm having a birthday get-together. It's going to be a fun evening with some food and company.Nothing too fancy, just a casual gathering with friends. I think it'll be a nice time and I hope you can make it."},
            "ME/23/12": { name: "Suchana Jana", role: "VIP-RAMEN", image: "https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", msg: "Hey <span class='highlight'>Maggie</span>, I'm planning a birthday celebration. It's going to be casual and low-key, just the way we like it. Hope you can make it and we can catch up properly!" }
        };

        const els = {
            input: document.getElementById('accessCode'),
            btn: document.getElementById('submitCode'),
            error: document.getElementById('errorMessage'),
            terminal: document.querySelector('.terminal-section'),
            anim: document.getElementById('boyAnimationContainer'),
            profile: document.getElementById('profileContainer'),
            mount: document.getElementById('cardMountPoint'),
            close: document.getElementById('closeProfile'),
            save: document.getElementById('tickButton'),
            matrix: document.getElementById('matrixBg')
        };

        // Matrix
        for(let i=0; i<30; i++) {
            let rain = document.createElement('div');
            rain.className = 'matrix-rain';
            rain.style.left = Math.random()*100 + '%';
            rain.style.animationDuration = (Math.random()*2+2) + 's';
            els.matrix.appendChild(rain);
        }

        els.btn.addEventListener('click', () => {
            const code = els.input.value.trim();
            if(!guests[code]) { els.error.textContent = "ACCESS DENIED"; return; }
            
            els.terminal.style.display = 'none';
            els.anim.style.display = 'block';
            
            // Simulating Animation Duration
            setTimeout(() => {
                els.anim.style.display = 'none';
                renderCard(guests[code]);
            }, 2500);
        });

        function renderCard(guest) {
            const cardHTML = `
                <div class="access-card" id="captureTarget">
                    <div class="gold-dust"></div>
                    <div class="gold-splash"></div>
                    
                    <div class="card-left">
                        <div class="chip-sim">
                            <div class="chip-line"></div><div class="chip-line"></div><div class="chip-line"></div>
                        </div>
                        <div class="card-photo-frame">
                            <img src="${guest.image}" class="card-photo" crossorigin="anonymous">
                        </div>
                        <div class="card-name">${guest.name}</div>
                        <div class="card-role">${guest.role}</div>
                    </div>

                    <div class="card-right">
                        <div class="card-invite-text">${guest.msg}</div>
                        
                        <div class="card-details-grid">
                            <div class="cd-item"><i class="fas fa-calendar"></i> 23rd Feb</div>
                            <div class="cd-item"><i class="fas fa-glass-cheers"></i> 26th Feb</div>
                            <div class="cd-item"><i class="fas fa-clock"></i> 6:30 PM</div>
                            <div class="cd-item"><i class="fas fa-map-marker-alt"></i> Petuk Rest.</div>
                        </div>

                        <div class="card-footer-id">
                            ID: ${els.input.value.trim()} // VALID
                        </div>
                    </div>
                </div>
            `;
            els.mount.innerHTML = cardHTML;
            els.profile.style.display = 'block';
        }

        els.close.addEventListener('click', () => {
            els.profile.style.display = 'none';
            els.terminal.style.display = 'block';
            els.input.value = '';
        });

        // DOWNLOAD
        els.save.addEventListener('click', () => {
            const original = document.getElementById('captureTarget');
            const clone = original.cloneNode(true);
            
            // Flatten for Capture
            clone.style.position = 'fixed'; clone.style.top = '0'; clone.style.zIndex = '-99';
            clone.style.transform = 'none'; clone.style.animation = 'none';
            clone.style.boxShadow = 'none';
            clone.style.width = '1000px'; clone.style.height = 'auto'; clone.style.minHeight = '500px';
            clone.style.flexDirection = 'row';
            
            // Adjust Left Side for capture width
            clone.querySelector('.card-left').style.width = '35%';
            clone.querySelector('.card-left').style.borderRight = '1px solid rgba(212,175,55,0.3)';
            clone.querySelector('.card-left').style.borderBottom = 'none';

            document.body.appendChild(clone);

            html2canvas(clone, { scale: 2, useCORS: true, backgroundColor: null }).then(canvas => {
                const link = document.createElement('a');
                link.download = `VIP_ACCESS_${els.input.value.trim()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                document.body.removeChild(clone);
            });
        });
    </script>
</body>
</html>